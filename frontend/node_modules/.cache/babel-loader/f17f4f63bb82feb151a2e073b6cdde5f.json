{"ast":null,"code":"import _defineProperty from\"C:/Users/user/Desktop/bookstore/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/user/Desktop/bookstore/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/user/Desktop/bookstore/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/user/Desktop/bookstore/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/user/Desktop/bookstore/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Box,Button,Checkbox,FormControlLabel,FormLabel,TextField}from\"@mui/material\";import axios from\"axios\";import React,{useEffect,useState}from\"react\";import{useNavigate,useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BookDetail=function BookDetail(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),inputs=_useState2[0],setInputs=_useState2[1];var id=useParams().id;var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),checked=_useState4[0],setChecked=_useState4[1];var history=useNavigate();useEffect(function(){var fetchHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://bookstrore689.herokuapp.com/books/\".concat(id)).then(function(res){return res.data;}).then(function(data){return setInputs(data.book);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function fetchHandler(){return _ref.apply(this,arguments);};}();fetchHandler();},[id]);var sendRequest=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.put(\"https://bookstrore689.herokuapp.com/books/\".concat(id),{name:String(inputs.name),author:String(inputs.author),description:String(inputs.description),price:Number(inputs.price),image:String(inputs.image),available:Boolean(checked)}).then(function(res){return res.data;});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function sendRequest(){return _ref2.apply(this,arguments);};}();var handleSubmit=function handleSubmit(e){e.preventDefault();sendRequest().then(function(){return history(\"/books\");});};var handleChange=function handleChange(e){setInputs(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},e.target.name,e.target.value));});};return/*#__PURE__*/_jsx(\"div\",{children:inputs&&/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(Box,{display:\"flex\",flexDirection:\"column\",justifyContent:\"center\",maxWidth:700,alignContent:\"center\",alignSelf:\"center\",marginLeft:\"auto\",marginRight:\"auto\",marginTop:10,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Name\"}),/*#__PURE__*/_jsx(TextField,{value:inputs.name,onChange:handleChange,margin:\"normal\",fullWidth:true,variant:\"outlined\",name:\"name\"}),/*#__PURE__*/_jsx(FormLabel,{children:\"Author\"}),/*#__PURE__*/_jsx(TextField,{value:inputs.author,onChange:handleChange,margin:\"normal\",fullWidth:true,variant:\"outlined\",name:\"author\"}),/*#__PURE__*/_jsx(FormLabel,{children:\"Description\"}),/*#__PURE__*/_jsx(TextField,{value:inputs.description,onChange:handleChange,margin:\"normal\",fullWidth:true,variant:\"outlined\",name:\"description\"}),/*#__PURE__*/_jsx(FormLabel,{children:\"Price\"}),/*#__PURE__*/_jsx(TextField,{value:inputs.price,onChange:handleChange,type:\"number\",margin:\"normal\",fullWidth:true,variant:\"outlined\",name:\"price\"}),/*#__PURE__*/_jsx(FormLabel,{children:\"Image\"}),/*#__PURE__*/_jsx(TextField,{value:inputs.image,onChange:handleChange,margin:\"normal\",fullWidth:true,variant:\"outlined\",name:\"image\"}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Checkbox,{checked:checked,onChange:function onChange(){return setChecked(!checked);}}),label:\"Available\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",type:\"submit\",children:\"Update Book\"})]})})});};export default BookDetail;","map":{"version":3,"names":["Box","Button","Checkbox","FormControlLabel","FormLabel","TextField","axios","React","useEffect","useState","useNavigate","useParams","BookDetail","inputs","setInputs","id","checked","setChecked","history","fetchHandler","get","then","res","data","book","sendRequest","put","name","String","author","description","price","Number","image","available","Boolean","handleSubmit","e","preventDefault","handleChange","prevState","target","value"],"sources":["C:/Users/user/Desktop/bookstore/frontend/src/components/Book/BookDetail.js"],"sourcesContent":["import {\r\n    Box,\r\n    Button,\r\n    Checkbox,\r\n    FormControlLabel,\r\n    FormLabel,\r\n    TextField,\r\n  } from \"@mui/material\";\r\n  import axios from \"axios\";\r\n  import React, { useEffect, useState } from \"react\";\r\n  import { useNavigate, useParams } from \"react-router-dom\";\r\n  \r\n  const BookDetail = () => {\r\n    const [inputs, setInputs] = useState();\r\n    const id = useParams().id;\r\n    const [checked, setChecked] = useState(false);\r\n    const history = useNavigate();\r\n    useEffect(() => {\r\n      const fetchHandler = async () => {\r\n        await axios\r\n          .get(`https://bookstrore689.herokuapp.com/books/${id}`)\r\n          .then((res) => res.data)\r\n          .then((data) => setInputs(data.book));\r\n      };\r\n      fetchHandler();\r\n    }, [id]);\r\n  \r\n    const sendRequest = async () => {\r\n      await axios\r\n        .put(`https://bookstrore689.herokuapp.com/books/${id}`, {\r\n          name: String(inputs.name),\r\n          author: String(inputs.author),\r\n          description: String(inputs.description),\r\n          price: Number(inputs.price),\r\n          image: String(inputs.image),\r\n          available: Boolean(checked),\r\n        })\r\n        .then((res) => res.data);\r\n    };\r\n    const handleSubmit = (e) => {\r\n      e.preventDefault();\r\n      sendRequest().then(() => history(\"/books\"));\r\n    };\r\n    const handleChange = (e) => {\r\n      setInputs((prevState) => ({\r\n        ...prevState,\r\n        [e.target.name]: e.target.value,\r\n      }));\r\n    };\r\n  \r\n    return (\r\n      <div>\r\n        {inputs && (\r\n          <form onSubmit={handleSubmit}>\r\n            <Box\r\n              display=\"flex\"\r\n              flexDirection=\"column\"\r\n              justifyContent={\"center\"}\r\n              maxWidth={700}\r\n              alignContent={\"center\"}\r\n              alignSelf=\"center\"\r\n              marginLeft={\"auto\"}\r\n              marginRight=\"auto\"\r\n              marginTop={10}\r\n            >\r\n              <FormLabel>Name</FormLabel>\r\n              <TextField\r\n                value={inputs.name}\r\n                onChange={handleChange}\r\n                margin=\"normal\"\r\n                fullWidth\r\n                variant=\"outlined\"\r\n                name=\"name\"\r\n              />\r\n              <FormLabel>Author</FormLabel>\r\n              <TextField\r\n                value={inputs.author}\r\n                onChange={handleChange}\r\n                margin=\"normal\"\r\n                fullWidth\r\n                variant=\"outlined\"\r\n                name=\"author\"\r\n              />\r\n              <FormLabel>Description</FormLabel>\r\n              <TextField\r\n                value={inputs.description}\r\n                onChange={handleChange}\r\n                margin=\"normal\"\r\n                fullWidth\r\n                variant=\"outlined\"\r\n                name=\"description\"\r\n              />\r\n              <FormLabel>Price</FormLabel>\r\n              <TextField\r\n                value={inputs.price}\r\n                onChange={handleChange}\r\n                type=\"number\"\r\n                margin=\"normal\"\r\n                fullWidth\r\n                variant=\"outlined\"\r\n                name=\"price\"\r\n              />\r\n              <FormLabel>Image</FormLabel>\r\n              <TextField\r\n                value={inputs.image}\r\n                onChange={handleChange}\r\n                margin=\"normal\"\r\n                fullWidth\r\n                variant=\"outlined\"\r\n                name=\"image\"\r\n              />\r\n              <FormControlLabel\r\n                control={\r\n                  <Checkbox\r\n                    checked={checked}\r\n                    onChange={() => setChecked(!checked)}\r\n                  />\r\n                }\r\n                label=\"Available\"\r\n              />\r\n  \r\n              <Button variant=\"contained\" type=\"submit\">\r\n                Update Book\r\n              </Button>\r\n            </Box>\r\n          </form>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n  \r\n  export default BookDetail;"],"mappings":"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"},"metadata":{},"sourceType":"module"}